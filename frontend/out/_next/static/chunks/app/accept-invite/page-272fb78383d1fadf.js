(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9819],{407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),n=r(2115),s=r(63),i=r(6052);function c(){let e=(0,s.useSearchParams)().get("token"),[t,r]=(0,n.useState)("Awaiting..."),c=(0,s.useRouter)();return(0,n.useEffect)(()=>{if(!e)return void r("No token");(async()=>{try{let t=i.j2.currentUser;if(!t)return void r("Please sign in first");let a=await t.getIdToken(),n=await fetch("/api/account/accept-invite",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({token:e})}),s=await n.json();n.ok?(r("Invite accepted â€” you now have access!"),setTimeout(()=>c.push("/"),1500)):r(s.error||"Failed to accept invite")}catch(e){r(e.message||"error")}})()},[e,c]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Accept invite"}),(0,a.jsx)("p",{children:t})]})}function o(){return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(c,{})})}},3251:(e,t,r)=>{Promise.resolve().then(r.bind(r,407))},6052:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j2:()=>u,yA:()=>o});var a=r(2078),n=r(2553),s=r(9708),i=r(9996),c=r(4663);let o=(0,a.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),u=(0,n.xI)(o),d=(0,s.aU)(o);(0,i.c7)(o),(0,n.oM)(u,n.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,c.TT)().then(e=>e?(0,c.P5)(o):null)}},e=>{e.O(0,[9135,3965,3828,1367,8441,1255,7358],()=>e(e.s=3251)),_N_E=e.O()}]);