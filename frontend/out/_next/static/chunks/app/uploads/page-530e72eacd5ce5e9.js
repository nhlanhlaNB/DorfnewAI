(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3227],{1161:(e,a,s)=>{Promise.resolve().then(s.bind(s,3455))},3455:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var l=s(5155),i=s(2115),t=s(63),r=s(6052),o=s(9708),d=s(2553),n=s(5239),c=s(8743),u=s.n(c);function p(){let e=(0,t.useRouter)(),[a,s]=(0,i.useState)(null),[c,p]=(0,i.useState)([]),[f,h]=(0,i.useState)(!0),[m,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{let a=(0,d.hg)(r.j2,a=>{a?(s(a),_(a.uid)):e.push("/login")});return()=>a()},[e]);let _=async e=>{try{h(!0);let a=(0,o.P)((0,o.rJ)(r.db,"uploads"),(0,o._M)("userId","==",e),(0,o.My)("uploadedAt","desc")),s=await (0,o.GG)(a),l=[];s.forEach(e=>{l.push({id:e.id,...e.data()})}),p(l)}catch(e){console.error("Error fetching uploads:",e),x("Failed to load uploads")}finally{h(!1)}},j=async e=>{if(window.confirm("Are you sure you want to delete this file?"))try{await (0,o.kd)((0,o.H9)(r.db,"uploads",e)),p(c.filter(a=>a.id!==e))}catch(e){console.error("Error deleting file:",e),x("Failed to delete file")}};return f?(0,l.jsx)("div",{className:u().pageWrapper,children:(0,l.jsxs)("div",{className:u().loaderContainer,children:[(0,l.jsx)("div",{className:u().loader}),(0,l.jsx)("p",{children:"Loading your uploads..."})]})}):(0,l.jsxs)("div",{className:u().pageWrapper,children:[(0,l.jsx)("header",{className:u().header,children:(0,l.jsx)("button",{className:u().closeButton,onClick:()=>{e.push("/")},title:"Back to Home","aria-label":"Back to Home",children:(0,l.jsx)("i",{className:"fas fa-times"})})}),(0,l.jsxs)("main",{className:u().main,children:[(0,l.jsx)("h1",{className:u().pageTitle,children:"Uploads"}),(0,l.jsx)("p",{className:u().pageSubtitle,children:c.length>0?"You have ".concat(c.length," uploaded file").concat(1!==c.length?"s":""):"Upload files to generate AI content or manage existing uploads."}),m&&(0,l.jsxs)("div",{className:u().errorBanner,children:[m,(0,l.jsx)("button",{onClick:()=>x(null),children:"Dismiss"})]}),(0,l.jsx)("div",{className:u().uploadContainer,children:(0,l.jsxs)("div",{className:u().uploadCard,onClick:()=>{alert("File upload functionality would be implemented here")},children:[(0,l.jsx)("div",{className:u().uploadIcon,children:(0,l.jsx)("i",{className:"fas fa-cloud-upload-alt"})}),(0,l.jsx)("h2",{className:u().cardTitle,children:"Upload New File"}),(0,l.jsx)("p",{className:u().cardDescription,children:"Upload documents, images, or other files for AI processing."}),(0,l.jsx)("button",{className:u().actionButton,children:"Start Upload"})]})}),c.length>0&&(0,l.jsxs)("div",{className:u().uploadsList,children:[(0,l.jsx)("h2",{className:u().sectionTitle,children:"Your Uploaded Files"}),(0,l.jsx)("div",{className:u().filesGrid,children:c.map(e=>{var a;return(0,l.jsxs)("div",{className:u().fileCard,children:[(0,l.jsx)("div",{className:u().filePreview,children:e.type.startsWith("image/")?(0,l.jsx)(n.default,{src:e.url,alt:e.name,width:100,height:100,className:u().previewImage}):(0,l.jsx)("i",{className:"".concat((a=e.type).startsWith("image/")?"fas fa-file-image":a.startsWith("video/")?"fas fa-file-video":a.startsWith("audio/")?"fas fa-file-audio":"application/pdf"===a?"fas fa-file-pdf":a.includes("word")||a.includes("document")?"fas fa-file-word":a.includes("sheet")||a.includes("excel")?"fas fa-file-excel":"fas fa-file"," ").concat(u().fileIcon)})}),(0,l.jsxs)("div",{className:u().fileInfo,children:[(0,l.jsx)("h3",{className:u().fileName,children:e.name}),(0,l.jsxs)("div",{className:u().fileMeta,children:[(0,l.jsx)("span",{className:u().fileSize,children:(e=>{if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]})(e.size)}),(0,l.jsx)("span",{className:u().fileDate,children:new Date(1e3*e.uploadedAt.seconds).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:u().fileActions,children:[(0,l.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:u().downloadBtn,title:"Download file",children:(0,l.jsx)("i",{className:"fas fa-download"})}),(0,l.jsx)("button",{className:u().deleteBtn,onClick:()=>j(e.id),title:"Delete file",children:(0,l.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})})]})]}),(0,l.jsx)("footer",{className:u().footer,children:(0,l.jsxs)("p",{className:u().footerText,children:[(0,l.jsx)("i",{className:"fas fa-copyright"})," 2025 Dorfnew. All rights reserved."]})})]})}},6052:(e,a,s)=>{"use strict";s.d(a,{db:()=>c,j2:()=>n,yA:()=>d});var l=s(2078),i=s(2553),t=s(9708),r=s(9996),o=s(4663);let d=(0,l.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),n=(0,i.xI)(d),c=(0,t.aU)(d);(0,r.c7)(d),(0,i.oM)(n,i.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,o.TT)().then(e=>e?(0,o.P5)(d):null)},8743:e=>{e.exports={pageWrapper:"uploads_pageWrapper__1K_bk",header:"uploads_header__h_uBZ",closeButton:"uploads_closeButton__liD1L",main:"uploads_main__Gotw9",pageTitle:"uploads_pageTitle__Ysq_7",pageSubtitle:"uploads_pageSubtitle__UpTuc",uploadContainer:"uploads_uploadContainer__3TzJR",uploadCard:"uploads_uploadCard__494Ex",cardTitle:"uploads_cardTitle__iTRya",cardDescription:"uploads_cardDescription__8doZz",actionButton:"uploads_actionButton__QmEnm",footer:"uploads_footer__Osl9t"}}},e=>{e.O(0,[9644,9135,3965,7849,1367,5239,8441,1255,7358],()=>e(e.s=1161)),_N_E=e.O()}]);