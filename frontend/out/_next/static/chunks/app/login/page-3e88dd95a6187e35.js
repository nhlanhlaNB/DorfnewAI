(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{950:(e,i,a)=>{Promise.resolve().then(a.bind(a,5404))},4547:e=>{e.exports={container:"login_container__dKYZP",card:"login_card__r3Ltj",title:"login_title__7huBn",subtitle:"login_subtitle__IciyZ",inputGroup:"login_inputGroup__luK6L",label:"login_label__1kJPU",input:"login_input__Y4JR4",forgotPassword:"login_forgotPassword__pxE_w",button:"login_button__iSv5r",link:"login_link__xjylW",socialLogin:"login_socialLogin__KZs7x",googleButton:"login_googleButton__wSWqO",appleButton:"login_appleButton__gkZIt",decorative1:"login_decorative1__GGm76",pulse:"login_pulse__K5LPD",decorative2:"login_decorative2__Oj1tF",bounce:"login_bounce__HfOiq",decorative3:"login_decorative3__1c0C8",spinner:"login_spinner__W0_61",spin:"login_spin__pBhqS"}},4665:(e,i,a)=>{"use strict";a.d(i,{V:()=>t});var o=a(9708),s=a(6052);let t=async(e,i)=>{let a=(0,o.H9)(s.db,"app_user",e.uid),t={uid:e.uid,email:e.email,provider:i,freeGenerationsUsed:0,maxFreeGenerations:3,isSubscribed:!1,subscriptionId:null,subscriptionDate:null,updatedAt:(0,o.O5)()};return await (0,o.BN)(a,{...t,createdAt:(0,o.O5)()},{merge:!0}),t}},5404:(e,i,a)=>{"use strict";a.r(i),a.d(i,{default:()=>u});var o=a(5155),s=a(2115),t=a(63),n=a(2553),r=a(6052),l=a(4665),c=a(4547),d=a.n(c);function u(){let[e,i]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(!1),[g,_]=(0,s.useState)(""),h=(0,t.useRouter)();(0,s.useEffect)(()=>{(0,n.oM)(r.j2,n.F0).catch(e=>{console.error("Persistence error:",e)})},[]);let m=async i=>{if(i.preventDefault(),_(""),!e||!a)return void _("Please fill in all fields");p(!0);try{let i=e.trim().toLowerCase(),o=(await (0,n.x9)(r.j2,i,a)).user;await (0,l.V)(o,"email"),h.push("/dashboard")}catch(e){console.error("Login error:",e),"auth/invalid-email"===e.code?_("Invalid email address"):"auth/user-not-found"===e.code?_("No account found with this email"):"auth/wrong-password"===e.code?_("Incorrect password"):_("Login failed. Please try again.")}finally{p(!1)}},b=async()=>{try{let e=new n.HF,i=await (0,n.df)(r.j2,e);await (0,l.V)(i.user,"google"),h.push("/dashboard")}catch(e){console.error("Google login error:",e),_("Google sign-in failed.")}},x=async()=>{try{let e=new n.LD("apple.com"),i=await (0,n.df)(r.j2,e);await (0,l.V)(i.user,"apple"),h.push("/dashboard")}catch(e){console.error("Apple login error:",e),_("Apple sign-in failed.")}};return(0,o.jsxs)("div",{className:d().container,children:[(0,o.jsx)("div",{className:d().decorative1}),(0,o.jsx)("div",{className:d().decorative2}),(0,o.jsx)("div",{className:d().decorative3}),(0,o.jsxs)("div",{className:d().card,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:d().title,children:"Welcome back"}),(0,o.jsx)("p",{className:d().subtitle,children:"Sign in to your account"})]}),g&&(0,o.jsx)("div",{className:d().error,children:g}),(0,o.jsxs)("form",{onSubmit:m,children:[(0,o.jsxs)("div",{className:d().inputGroup,children:[(0,o.jsx)("label",{htmlFor:"email",className:d().label,children:"Email"}),(0,o.jsx)("input",{id:"email",type:"email",required:!0,value:e,onChange:e=>i(e.target.value),className:d().input,placeholder:"your@email.com"})]}),(0,o.jsxs)("div",{className:d().inputGroup,children:[(0,o.jsx)("label",{htmlFor:"password",className:d().label,children:"Password"}),(0,o.jsx)("input",{id:"password",type:"password",required:!0,value:a,onChange:e=>c(e.target.value),className:d().input,placeholder:"••••••••",minLength:6})]}),(0,o.jsx)("div",{style:{textAlign:"right",marginBottom:"20px"},children:(0,o.jsx)("button",{type:"button",onClick:()=>h.push("/forgot-password"),className:d().forgotPassword,children:"Forgot password?"})}),(0,o.jsx)("button",{type:"submit",disabled:u,className:d().button,children:u?"Signing in...":"Sign in"})]}),(0,o.jsxs)("div",{className:d().socialLogin,children:[(0,o.jsx)("button",{onClick:b,className:d().googleButton,children:"Continue with Google"}),(0,o.jsx)("button",{onClick:x,className:d().appleButton,children:"Continue with Apple"})]}),(0,o.jsx)("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,o.jsxs)("p",{style:{color:"#d1d5db",fontSize:"0.9rem"},children:["Don't have an account?",(0,o.jsx)("button",{onClick:()=>h.push("/signup"),className:d().link,children:"Sign up"})]})})]})]})}},6052:(e,i,a)=>{"use strict";a.d(i,{db:()=>d,j2:()=>c,yA:()=>l});var o=a(2078),s=a(2553),t=a(9708),n=a(9996),r=a(4663);let l=(0,o.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),c=(0,s.xI)(l),d=(0,t.aU)(l);(0,n.c7)(l),(0,s.oM)(c,s.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,r.TT)().then(e=>e?(0,r.P5)(l):null)}},e=>{e.O(0,[9232,9135,3965,7849,1367,8441,1255,7358],()=>e(e.s=950)),_N_E=e.O()}]);