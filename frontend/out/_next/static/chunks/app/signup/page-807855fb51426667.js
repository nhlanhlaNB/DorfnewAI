(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{93:(e,a,t)=>{Promise.resolve().then(t.bind(t,8923))},4665:(e,a,t)=>{"use strict";t.d(a,{V:()=>n});var s=t(9708),i=t(6052);let n=async(e,a)=>{let t=(0,s.H9)(i.db,"app_user",e.uid),n={uid:e.uid,email:e.email,provider:a,freeGenerationsUsed:0,maxFreeGenerations:3,isSubscribed:!1,subscriptionId:null,subscriptionDate:null,updatedAt:(0,s.O5)()};return await (0,s.BN)(t,{...n,createdAt:(0,s.O5)()},{merge:!0}),n}},6052:(e,a,t)=>{"use strict";t.d(a,{db:()=>c,j2:()=>u,yA:()=>r});var s=t(2078),i=t(2553),n=t(9708),l=t(9996),o=t(4663);let r=(0,s.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),u=(0,i.xI)(r),c=(0,n.aU)(r);(0,l.c7)(r),(0,i.oM)(u,i.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,o.TT)().then(e=>e?(0,o.P5)(r):null)},8923:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),i=t(2115),n=t(63),l=t(2553),o=t(6052),r=t(4665),u=t(9773),c=t.n(u);function d(){let[e,a]=(0,i.useState)(""),[t,u]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[_,g]=(0,i.useState)(!1),[h,m]=(0,i.useState)({google:!1,apple:!1}),[b,f]=(0,i.useState)(""),v=(0,n.useRouter)(),w=new l.HF,x=new l.LD("apple.com");x.addScope("email"),x.addScope("name");let j=async a=>{a.preventDefault(),g(!0),f("");try{if(!e||!t||!d)return void f("Please fill in all fields");if(d.length<6)return void f("Password must be at least 6 characters");let a=t.trim().toLowerCase(),s=(await (0,l.eJ)(o.j2,a,d)).user;await (0,l.r7)(s,{displayName:e}),await (0,r.V)(s,"email"),await (0,l.gA)(s),v.push("/verify-email")}catch(a){console.error("Signup error:",a);let e="Signup failed. Please try again.";"auth/email-already-in-use"===a.code?e="Email already in use. Try logging in instead.":"auth/weak-password"===a.code?e="Password should be at least 6 characters":"auth/invalid-email"===a.code?e="Please enter a valid email address.":"auth/operation-not-allowed"===a.code&&(e="Email/password accounts are not enabled. Please contact support."),f(e)}finally{g(!1)}},N=async e=>{m(a=>({...a,[e]:!0})),f("");try{let a="google"===e?w:x,t=(await (0,l.df)(o.j2,a)).user;await (0,r.V)(t,e),v.push("/dashboard")}catch(t){console.error("".concat(e," signin error:"),t);let a="Sign in with ".concat("google"===e?"Google":"Apple"," failed.");"auth/popup-closed-by-user"===t.code?a="Sign in was canceled.":"auth/account-exists-with-different-credential"===t.code?a="An account already exists with the same email address but different sign-in credentials.":"auth/operation-not-supported"===t.code&&(a="This sign-in method is not supported in your browser."),f(a)}finally{m(a=>({...a,[e]:!1}))}};return(0,s.jsx)("div",{className:c().container,children:(0,s.jsxs)("div",{className:c().card,children:[(0,s.jsx)("h1",{className:c().title,children:"Create Account"}),(0,s.jsx)("p",{className:c().subtitle,children:"Join DorfNewAI today"}),b&&(0,s.jsx)("div",{className:c().error,children:b}),(0,s.jsxs)("div",{className:c().socialButtons,children:[(0,s.jsx)("button",{onClick:()=>N("google"),disabled:h.google,className:"".concat(c().socialButton," ").concat(c().googleButton),children:h.google?"Signing in...":"Sign up with Google"}),(0,s.jsx)("button",{onClick:()=>N("apple"),disabled:h.apple,className:"".concat(c().socialButton," ").concat(c().appleButton),children:h.apple?"Signing in...":"Sign up with Apple"})]}),(0,s.jsx)("div",{className:c().divider,children:(0,s.jsx)("span",{children:"or"})}),(0,s.jsxs)("form",{onSubmit:j,children:[(0,s.jsxs)("div",{className:c().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"name",className:c().label,children:"Full Name"}),(0,s.jsx)("input",{id:"name",type:"text",required:!0,value:e,onChange:e=>a(e.target.value),className:c().input,placeholder:"John Doe"})]}),(0,s.jsxs)("div",{className:c().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"email",className:c().label,children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",required:!0,value:t,onChange:e=>u(e.target.value),className:c().input,placeholder:"your@email.com"})]}),(0,s.jsxs)("div",{className:c().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"password",className:c().label,children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",required:!0,minLength:6,value:d,onChange:e=>p(e.target.value),className:c().input,placeholder:"••••••••"})]}),(0,s.jsx)("button",{type:"submit",disabled:_,className:c().button,children:_?"Creating account...":"Sign up with Email"})]}),(0,s.jsx)("div",{className:c().footer,children:(0,s.jsxs)("p",{className:c().footerText,children:["Already have an account?"," ",(0,s.jsx)("span",{onClick:()=>{v.push("/login")},className:c().link,children:"Sign in"})]})})]})})}},9773:e=>{e.exports={container:"signup_container__VHxSu",card:"signup_card__PTwfz",title:"signup_title__f_fv7",subtitle:"signup_subtitle__coXem",socialButtons:"signup_socialButtons__r5BvO",socialButton:"signup_socialButton__BWJag",socialButtonContent:"signup_socialButtonContent__uuEbp",socialIcon:"signup_socialIcon__UCs40",googleButton:"signup_googleButton__L_oNs",appleButton:"signup_appleButton__mwJzH",socialSpinner:"signup_socialSpinner__9G8mi",spin:"signup_spin__g4M4j",divider:"signup_divider__bvIol",inputGroup:"signup_inputGroup__sA_ms",label:"signup_label__Lh5DM",input:"signup_input__nIvFN",button:"signup_button__lhTjx",hint:"signup_hint__xjp74",footer:"signup_footer__vC1bW",footerText:"signup_footerText__n_zL5",link:"signup_link__AMOYU",buttonContent:"signup_buttonContent__jHqik",spinner:"signup_spinner__Lh_gs",error:"signup_error__cVvvb"}}},e=>{e.O(0,[9226,9135,3965,3828,1367,8441,1255,7358],()=>e(e.s=93)),_N_E=e.O()}]);