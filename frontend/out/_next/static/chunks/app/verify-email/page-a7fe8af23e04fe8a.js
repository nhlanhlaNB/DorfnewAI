(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7839],{5801:e=>{e.exports={container:"verify-email_container__5wJ6r",card:"verify-email_card__bxXM4",icon:"verify-email_icon__qP3Hl",title:"verify-email_title__Y9RJu",subtitle:"verify-email_subtitle__JYZLy",message:"verify-email_message__Dhc6t",error:"verify-email_error__7dMno",actions:"verify-email_actions__dsJig",button:"verify-email_button__HnZ59",secondaryButton:"verify-email_secondaryButton__eKoCe",footer:"verify-email_footer__KP9Vu",link:"verify-email_link__hsiux"}},6052:(e,i,r)=>{"use strict";r.d(i,{db:()=>u,j2:()=>c,yA:()=>o});var a=r(2078),s=r(2553),t=r(9708),n=r(9996),l=r(4663);let o=(0,a.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),c=(0,s.xI)(o),u=(0,t.aU)(o);(0,n.c7)(o),(0,s.oM)(c,s.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,l.TT)().then(e=>e?(0,l.P5)(o):null)},6254:(e,i,r)=>{"use strict";r.d(i,{default:()=>u});var a=r(5155),s=r(2115),t=r(63),n=r(6052),l=r(2553),o=r(5801),c=r.n(o);function u(){let[e,i]=(0,s.useState)(!1),[r,o]=(0,s.useState)(""),[u,d]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),h=(0,t.useRouter)(),y=(0,t.useSearchParams)();(0,s.useEffect)(()=>{let e=y.get("error");e&&f(decodeURIComponent(e))},[y]),(0,s.useEffect)(()=>{let e=(0,l.hg)(n.j2,e=>{e?(o(e.email||""),e.emailVerified&&h.push("/login?message=Email verified successfully")):h.push("/login?error=Please sign in to verify your email")});return()=>e()},[h]);let _=async()=>{i(!0),f(""),d("");try{let e=n.j2.currentUser;e?(await (0,l.gA)(e,{url:"https://www.dorfnew.com/__/auth/action",handleCodeInApp:!0}),d("Verification email sent successfully! Please check your inbox.")):(f("No user is signed in. Please log in again."),h.push("/login"))}catch(e){console.error("Resend error:",e),"auth/too-many-requests"===e.code?f("Too many attempts. Please try again later."):f("Failed to send verification email. Please try again.")}finally{i(!1)}},v=async()=>{try{var e,i;await (null==(e=n.j2.currentUser)?void 0:e.reload()),(null==(i=n.j2.currentUser)?void 0:i.emailVerified)?h.push("/login?message=Email verified successfully"):d("Email not verified yet. Please check your inbox or spam folder.")}catch(e){console.error("Error checking verification:",e),f("Failed to check verification status. Please try again.")}};return(0,a.jsxs)("div",{className:c().card,children:[(0,a.jsx)("div",{className:c().icon,children:"\uD83D\uDCE7"}),(0,a.jsx)("h1",{className:c().title,children:"Verify Your Email"}),(0,a.jsxs)("p",{className:c().subtitle,children:["We've sent a verification email to ",(0,a.jsx)("strong",{children:r}),". Please check your inbox and click the link to verify your account."]}),u&&(0,a.jsx)("div",{className:c().message,children:u}),m&&(0,a.jsx)("div",{className:c().error,children:m}),(0,a.jsxs)("div",{className:c().actions,children:[(0,a.jsx)("button",{onClick:_,disabled:e,className:c().button,children:e?(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:c().spinner}),"Sending..."]}):"Resend Verification Email"}),(0,a.jsx)("button",{onClick:v,className:c().secondaryButton,children:"I've Verified My Email"})]}),(0,a.jsxs)("p",{className:c().footer,children:["Didn't receive the email? Check your spam folder or",(0,a.jsx)("button",{onClick:_,className:c().link,children:"try again"})]})]})}},9458:(e,i,r)=>{Promise.resolve().then(r.t.bind(r,5801,23)),Promise.resolve().then(r.bind(r,6254))}},e=>{e.O(0,[7398,9135,3965,3828,1367,8441,1255,7358],()=>e(e.s=9458)),_N_E=e.O()}]);