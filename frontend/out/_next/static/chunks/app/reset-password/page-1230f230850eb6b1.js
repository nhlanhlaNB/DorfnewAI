(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{3985:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,8863,23)),Promise.resolve().then(a.bind(a,8280))},6052:(e,s,a)=>{"use strict";a.d(s,{db:()=>c,j2:()=>d,yA:()=>l});var r=a(2078),t=a(2553),o=a(9708),n=a(9996),i=a(4663);let l=(0,r.Wp)({apiKey:"AIzaSyCsUOwYavhzJsk3oa9utlxY7jAmmreGaO4",authDomain:"dorfnew-9f575.firebaseapp.com",projectId:"dorfnew-9f575",storageBucket:"dorfnew-9f575.firebasestorage.app",messagingSenderId:"690732549956",appId:"1:690732549956:web:b2199ce3f3b47924823911",measurementId:"G-CGFY15G69M"}),d=(0,t.xI)(l),c=(0,o.aU)(l);(0,n.c7)(l),(0,t.oM)(d,t.F0).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,i.TT)().then(e=>e?(0,i.P5)(l):null)},8280:(e,s,a)=>{"use strict";a.d(s,{default:()=>c});var r=a(5155),t=a(2115),o=a(63),n=a(2553),i=a(6052),l=a(8863),d=a.n(l);function c(){let[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[p,h]=(0,t.useState)(""),[w,_]=(0,t.useState)(!1),m=(0,o.useRouter)(),b=(0,o.useSearchParams)(),f=b.get("oobCode"),g=b.get("email")||"",v=async s=>{if(s.preventDefault(),h(""),e!==a)return void h("Passwords do not match");if(e.length<6)return void h("Password must be at least 6 characters");if(!f)return void h("Invalid or missing reset code. Please request a new reset link.");u(!0);try{await (0,n.R4)(i.j2,f,e),_(!0),setTimeout(()=>m.push("/login?message=Password reset successful. Please log in."),3e3)}catch(e){switch(console.error("Confirm password reset error:",e),e.code){case"auth/expired-action-code":h("The reset link has expired. Please request a new one.");break;case"auth/invalid-action-code":h("The reset link is invalid. Please request a new one.");break;case"auth/user-disabled":h("Your account has been disabled. Contact support.");break;case"auth/weak-password":h("Password is too weak. Please choose a stronger one.");break;default:h("Failed to reset password. Please try again.")}}finally{u(!1)}};return(0,r.jsxs)("div",{className:d().card,children:[(0,r.jsx)("div",{className:d().iconContainer,children:(0,r.jsx)("div",{className:d().icon,children:"\uD83D\uDD12"})}),(0,r.jsx)("h1",{className:d().title,children:w?"Password Reset Successful!":"Reset Your Password"}),(0,r.jsx)("p",{className:d().subtitle,children:w?"Your password has been updated. Redirecting to login...":"Enter a new password for ".concat(g||"your account",". It must be at least 6 characters.")}),p&&(0,r.jsx)("div",{className:d().error,children:p}),w?null:(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:d().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"password",className:d().label,children:"New Password"}),(0,r.jsx)("input",{id:"password",type:"password",required:!0,minLength:6,value:e,onChange:e=>s(e.target.value),className:d().input,placeholder:"••••••••",disabled:c})]}),(0,r.jsxs)("div",{className:d().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:d().label,children:"Confirm New Password"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",required:!0,minLength:6,value:a,onChange:e=>l(e.target.value),className:d().input,placeholder:"••••••••",disabled:c})]}),(0,r.jsx)("button",{type:"submit",disabled:c,className:d().button,children:c?"Resetting...":"Reset Password"})]}),(0,r.jsx)("div",{className:d().footer,children:(0,r.jsx)("button",{onClick:()=>m.push("/login"),className:d().link,children:"Back to Login"})})]})}},8863:e=>{e.exports={container:"reset-password_container__bnxKc",card:"reset-password_card__tCC1q",iconContainer:"reset-password_iconContainer__SW09Q",icon:"reset-password_icon__oDjWE",title:"reset-password_title__opTjy",subtitle:"reset-password_subtitle__CiR0I",error:"reset-password_error__Bs7kc",inputGroup:"reset-password_inputGroup__RTznj",label:"reset-password_label__DaqMV",input:"reset-password_input__XVCR_",button:"reset-password_button__RH5Mh",footer:"reset-password_footer__V_evv",link:"reset-password_link__il0CX"}}},e=>{e.O(0,[6460,9135,3965,7849,1367,8441,1255,7358],()=>e(e.s=3985)),_N_E=e.O()}]);